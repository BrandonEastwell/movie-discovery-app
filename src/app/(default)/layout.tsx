import React from "react";
import HeaderBar from "../../components/server/header-bar";
import SearchBar from "../../components/client/search-bar";
import UserNavigation from "../../components/client/user-navigation";
import {AuthService} from "../../lib/services/authService";

export const metadata = {
  title: 'SIVTER',
  description: 'Generated by Next.js',
}

export default async function DefaultLayout({children}: { children: React.ReactNode }) {
    const { isLoggedIn, userData } = (await AuthService.getAuthState());

    return (
        <>
            <div className="col-start-1 col-end-3 row-start-1 z-10 px-6">
                <HeaderBar isLoggedIn={isLoggedIn} userData={userData}/>
            </div>
            <div className="col-start-1 col-end-3 row-start-2 z-10 px-6 py-2">
                <SearchBar/>
            </div>
            <div className="col-start-1 col-end-2 row-start-3 z-10 px-6">
                <UserNavigation/>
            </div>
            <div className="col-start-2 col-end-3 row-start-3 z-10 overflow-y-auto no-scrollbar scroll-smooth">
                {children}
            </div>
        </>
    )
}
